<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
body{background: black;color: white;font-size: 13px;}
*{ margin:0; padding:0;}
li{ list-style:none;}

#div1{ width:785px; height:auto; margin:20px auto; position:relative;}
li{ position:absolute;}
</style>
<script type="text/javascript" src="new_ajax.js"></script>
<script>
window.onload = function(){
    var  oLi=document.getElementsByTagName('li');
    var i=0;
    var temp={A:[],B:[],C:[]};
    for(i=0;i<oLi.length;i++)
    {
        var iNow=i%3;
       switch(iNow)
       {
        case 0:oLi[i].style.left=5+'px';
        temp.A.push(oLi[i].offsetHeight);//存放每个为0的li
        var step=Math.floor(i/3);//向下取整
        if(!step)
        {
            oLi[i].style.top=0;
        }
        else
        {
            var sum=0;
            for(var j=0;j<step;j++)
            {
                sum+=temp.A[j]+5;
            }
            oLi[i].style.top=sum+'px';
        }
        break;
        case 1:oLi[i].style.left=240+'px';
         temp.B.push(oLi[i].offsetHeight);
           var step=Math.floor(i/3);//向下取整
        if(!step)
        {
            oLi[i].style.top=0;
        }
        else
        {
            var sum=0;
            for(var j=0;j<step;j++)
            {
                sum+=temp.B[j]+5;
            }
            oLi[i].style.top=sum+'px';
        }
        break;
        case 2:oLi[i].style.left=475+'px';
         temp.C.push(oLi[i].offsetHeight);
           var step=Math.floor(i/3);//向下取整
        if(!step)
        {
            oLi[i].style.top=0;
        }
        else
        {
            var sum=0;
            for(var j=0;j<step;j++)
            {
                sum+=temp.C[j]+5;
            }
            oLi[i].style.top=sum+'px';
        }
        break;

       }

    }    
};
</script>
</head>

<body>
<div id="div1">
    <ul>
        <li>
            <img src="img/1.jpg" />
            <p>好看的外套</p>
        </li>
        <li>
            <img src="img/2.jpg" />
            <p>好看的外套</p>
        </li>
        <li>
            <img src="img/3.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/4.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/5.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/6.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/9.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/7.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/8.jpg" />
            <p>111111111</p>
        </li>
        <li>
            <img src="img/9.jpg" />
            <p>111111111</p>
        </li>
         <li>
            <img src="img/10.jpg" />
            <p>111111111</p>
        </li>
         <li>
            <img src="img/11.jpg" />
            <p>111111111</p>
        </li>
         <li>
            <img src="img/12.jpg" />
            <p>111111111</p>
        </li>
         <li>
            <img src="img/13.jpg" />
            <p>111111111</p>
        </li>
    </ul>
</div>
</body>
</html>
