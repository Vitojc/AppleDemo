<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>弹性菜单</title>
<style>
* { padding: 0; margin: 0; }
#div1{width: 100px;height: 50px;background: red;position: absolute;top: 0}
</style>
<script type="text/javascript">
var speed=0;
var height=0;//style.left只能为整数，此设置一个变量
function startMove(obj,target)
{
         clearInterval(obj.timer);
         obj.timer=setInterval(function(){
              speed+=(target-obj.offsetHeight)/5;
              speed*=0.7;//设置摩擦力
              height+=speed;//弹性运动中特有的解决办法
              if(Math.abs(speed)<1&&Math.abs(height-target)<1)//j绝对值
              {
                clearInterval(obj.timer);
                obj.style.height=target+'px';
              }
              else
              {
                 if(height<0){obj.style.height=0;}
                  obj.style.height=height+'px';
                 document.title=obj.offsetHeight+'|'+target+'|'+speed;
              }
         },30)
}
window.onload=function()
{
    var oDiv=document.getElementById('div1');
    oDiv.onmouseover=function()
    {
      startMove(oDiv,300);
    }
     oDiv.onmouseout=function()
    {
      startMove(oDiv,100);
    }
};
</script>
</head>
<body>
<div id='div1'>
</div>
</body>
</html>
